!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Alt=n():t.Alt=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){t.exports=e(3)},function(t,n){function e(t){return"f"===("undefined"==typeof t?"undefined":u(t))[0]}function r(t){var n=t.constructor;return!!t&&"[object Object]"===Object.prototype.toString.call(t)&&e(n)&&!Object.isFrozen(t)&&n instanceof n}function i(t){return arguments.length>1?Array.from(arguments):void 0===t?null:t}function o(){return Math.random().toString(18).substr(2,16)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n.isFunction=e,n.isMutableObject=r,n.dispatchIdentity=i,n.id=o},function(t,n){"use strict";function e(){var t=[],n=!1,e={},r=function(r){var i=t.indexOf(r);if(!(0>i))return n?void(e[i]=r):void t.splice(i,1)},i=function(n){var e=(t.push(n),function(){return r(n)});return{dispose:e}},o=function(){for(var i=arguments.length,o=Array(i),u=0;i>u;u++)o[u]=arguments[u];n=!0;try{t.forEach(function(t,n){return e[n]||t.apply(void 0,o)})}finally{n=!1,Object.keys(e).forEach(function(t){return r(e[t])}),e={}}};return{publish:o,subscribe:i,$subscriptions:t}}t.exports=e},function(t,n,e){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=e(2),u=r(o),s=e(4),c=r(s),a=e(1),f=a.id(),l=function(){function t(n){var e=this;i(this,t);var r=u["default"]();Object.assign(this,{publish:function(){function t(t){t.meta||(t.meta={}),t.meta.id=a.id(),r.publish(t)}return t}(),subscribe:r.subscribe,serialize:JSON.stringify,deserialize:JSON.parse},n),this[f]=[],this.Store=c["default"],this.actions={},this.stores={},this.subscribe(function(t){e[f].forEach(function(n){return n.dispatch(t)}),e[f].forEach(function(t){return t.emitChange()})})}return t.prototype.createActions=function(){function t(t,n){var e=this,r=Object.keys(n).reduce(function(r,i){var o=String(t)+"/"+String(i),u=function(){function t(t){return e.publish({type:o,payload:t})}return t}();return r[i]=function(){var t=n[i].apply(n,arguments);return a.isFunction(t)?t(u,e):(void 0!==t&&u(t),t)},Object.assign(r[i],{type:o,actionName:i}),r},{});return this.actions[t]=r}return t}(),t.prototype.createAsyncActions=function(){function t(t,n){var e=this;return Object.keys(n).reduce(function(r,i){var o=String(t)+"/"+String(i),u=function(){function t(t,n){var r={};n.loading&&(r.loading=!0);var i=n.loading?i:String(i)+"/loading",o={type:i,payload:t,meta:r};return n.error&&(o.error=!0),e.publish(o),o}return t}();return r[i]=function(){var t=n[i].apply(n,arguments);return u(null,{loading:!0}),Promise.resolve(t).then(function(t){return u(t,{})},function(t){return u(t,{error:!0})})},Object.assign(r[i],{type:o,actionName:i}),r},{})}return t}(),t.prototype.generateActions=function(){function t(t,n){var e=Array.isArray(n)?n:[n];return this.createActions(t,e.reduce(function(t,n){return t[n]=a.dispatchIdentity,t},{}))}return t}(),t.prototype.createStore=function(){function t(t,n){var e=this,r=u["default"](),i=function(){function t(t,e){n.lifecycle[t]&&n.lifecycle[t].publish({state:n.state,action:e})}return t}(),o=function(){function t(t){n._noChange=!1;try{return t()}catch(e){if(!n.lifecycle.error)throw e;i("error",e)}}return t}(),s=function(){function t(t){return n._noChange=!0,i("beforeEach",t),n.dispatchHandlers[t.type]?o(function(){n.dispatchHandlers[t.type].publish(t.payload,t)}):n.otherwise&&o(function(){n.otherwise(t.payload,t)}),n.reduce&&o(function(){var e=n.reduce(n.state,t);void 0!==e&&(n.state=e)}),i("afterEach",t),n.state}return t}(),c=function(){function t(){return n._noChange||r.publish(n.state)}return t}();return this[f].push({displayName:t,setState:function(){function t(t){return n.state=t}return t}(),getState:function(){function t(){return{state:n.state}}return t}(),runLifecycle:i,initialState:this.serialize({state:n.state}),dispatch:s,emitChange:c}),this.stores[t]={displayName:t,dispatch:s,getState:function(){function t(){return n.state}return t}(),subscribe:function(){function t(t){var n=r.subscribe(t);return{dispose:function(){function t(){i("unlisten"),n.dispose()}return t}()}}return t}(),destroy:function(){function n(){e[f]=e[f].filter(function(n){return n.displayName!==t}),delete e.stores[t]}return n}()}}return t}(),t.prototype.load=function(){function t(t){var n="string"==typeof t?this.deserialize(t):t;this[f].forEach(function(t){n.hasOwnProperty(t.displayName)&&(t.setState(n[t.displayName]),t.runLifecycle("load"))})}return t}(),t.prototype.save=function(){function t(t){return this.serialize(this[f].reduce(function(n,e){return(!t||t.hasOwnProperty(e.displayName))&&(n[e.displayName]=e.getState().state,e.runLifecycle("save")),n},{}))}return t}(),t.prototype.flush=function(){function t(t){var n=this,e=this.save(t);return this[f].forEach(function(e){(!t||t.hasOwnProperty(e.displayName))&&e.setState(n.deserialize(e.initialState).state)}),e}return t}(),t.debug=function(){function t(t,n){var e="alt.js.org";return"undefined"!=typeof window&&(window[e]||(window[e]=[]),window[e].push({name:t,alt:n})),n}return t}(),t}();l.Store=c["default"],n["default"]=l,t.exports=n["default"]},function(t,n,e){function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n,e){var r=/./,i=e.replace(r,function(t){return"on"+String(t[0].toUpperCase())});if(t[e]&&t[i])throw new ReferenceError("You have multiple handlers bound to an action: "+(String(e)+" and "+String(i)));var o=t[e]||t[i];o&&t.bindAction(n,function(n,r){t[e]?t[e](n,r):t[i]&&t[i](n,r)})}Object.defineProperty(n,"__esModule",{value:!0});var u=e(2),s=r(u),c=e(1),a=function(){function t(){i(this,t),this.dispatchHandlers={},this.boundListeners=[],this.lifecycle={},this._noChange=!1}return t.prototype.bindActions=function(){function t(t){var n=this;Object.keys(t).forEach(function(e){return o(n,t[e].type,e)})}return t}(),t.prototype.bindAction=function(){function t(t,n){var e=t.type?t.type:t;this.dispatchHandlers[e]||(this.dispatchHandlers[e]=s["default"]()),this.dispatchHandlers[e].subscribe(n),this.boundListeners.push(e)}return t}(),t.prototype.bindListeners=function(){function t(t){var n=this;Object.keys(t).forEach(function(e){if(!n[e])throw new ReferenceError(String(e)+" defined but does not exist in self");var r=t[e],i=function(){function t(t){return n[e](t)}return t}();Array.isArray(r)?r.forEach(function(t){return n.bindAction(t,i)}):n.bindAction(r,i)})}return t}(),t.prototype.on=function(){function t(t,n){this.lifecycle[t]||(this.lifecycle[t]=s["default"]()),this.lifecycle[t].subscribe(n)}return t}(),t.prototype.setState=function(){function t(t){c.isMutableObject(this.state)?this.state=Object.assign({},this.state,t):this.state=t}return t}(),t.prototype.preventDefault=function(){function t(){this._noChange=!0}return t}(),t}();n["default"]=a,t.exports=n["default"]}])});